apiVersion: build.openshift.io/v1
kind: BuildConfig
metadata:
  name: java-backend
spec:
  output:
    to:
      kind: DockerImage
      name: 'ghcr.io/fabiankuhn/java-backend:latest'
    pushSecret:
      name: docker-hub-secret
  source:
    binary: {}
    type: Binary
  strategy:
    dockerStrategy:
      from:
        kind: ImageStreamTag
        name: 'openjdk:17-slim'
    type: Docker
  successfulBuildsHistoryLimit: 5
